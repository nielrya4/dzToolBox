{% macro spinner(id='spinner', message="Waiting for server response...") %}
    <style>
            .hidden {
                display: none;
            }
            .visible {
                display: flex;
            }
             #{{ id }} {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 9999;
                justify-content: center;
                align-items: center;
            }

            .spinner-card {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(10px);
                border: none;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
                min-width: 300px;
                max-width: 400px;
            }

            .spinner-icon {
                width: 3rem;
                height: 3rem;
                border-width: 0.3em;
            }

            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
    </style>
    <div id="{{ id }}" class="hidden">
        <div class="card spinner-card">
            <div class="card-body text-center py-4">
                <div class="mb-3">
                    <div class="spinner-border text-primary spinner-icon" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
                <h5 class="card-title text-primary mb-0">{{ message }}</h5>
            </div>
        </div>
    </div>
{% endmacro %}
